<ion-content [ngClass]="{'default': !showFeedback(), 'success': showFeedback() && slideInfo[currentSlide].stage == Stage.CORRECT, 'failure': showFeedback() && slideInfo[currentSlide].stage == Stage.INCORRECT}">

  <ion-progress-bar style="margin-top: 0px" value={{progressPercent}}></ion-progress-bar>

  <div *ngIf="slideInfo[currentSlide].stage == Stage.START" (click)="startMemorizeTimer()" class="overlay" button>
    <div class="overlay-content">
      Click anywhere to reveal the face
    </div>
  </div>

  <ion-slides #slideElement (ionSlideWillChange)="changeSlide()">

    <ion-slide *ngFor="let slide of slideInfo; let slideIndex = index" style="text-align: center; height: 100%; width: 100%; display: block">

      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.START">Memorize the face: {{memorizeTime}}</h3>
      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.MEMORIZE">Memorize the face: <span class="time-left">{{timeRemaining}}</span></h3>
      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.MASK">Hold the face in your mind...</h3>
      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.SELECT">Is this the same person?</h3>
      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.CORRECT">Correct!</h3>
      <h3 *ngIf="slideInfo[slideIndex].stage == Stage.INCORRECT">Incorrect!</h3>
      <ion-card>
        <img *ngIf="slideInfo[slideIndex].stage != Stage.START" [src]="getSrc(slideIndex)" style="height: 270px; margin: 20px auto" [ngStyle]="{'width': slideInfo[slideIndex].stage == Stage.MASK ? '85%' : '190px'}"/>
      </ion-card>

      <ion-item *ngIf="slideInfo[slideIndex].stage == Stage.SELECT" style="--background: transparent; color: white" lines="none">
        <span slot="start">No</span>
        <ion-icon slot="start" color="dark" name="arrow-back" style="margin-top: 10px"></ion-icon>
        <ion-icon slot="end" color="dark" name="arrow-forward" style="margin-top: 10px"></ion-icon>
        <span slot="end">Yes</span>   
      </ion-item>
      
      <!--<ion-button *ngIf="slideInfo[slideIndex].stage == Stage.SELECT" style="width:130px" (click)="chooseFace(false)" color="danger">No</ion-button>
      <ion-button *ngIf="slideInfo[slideIndex].stage == Stage.SELECT" style="width:130px" (click)="chooseFace(true)" color="success">Yes</ion-button>-->

      <ion-item *ngIf="showFeedback()" class="footer" lines="none">
        <ion-label>Swipe to Continue</ion-label>
        <ion-icon slot="end" color="dark" name="arrow-back" style="margin-top: 10px"></ion-icon>    
      </ion-item>

    </ion-slide>

    <ion-slide>
      <app-score-page [score]="score" (finished)="finished.emit([score, $event])"></app-score-page>
    </ion-slide>

  </ion-slides>

</ion-content>
